(()=>{const t={1:function(){const t=[];for(let n=0;n<1e3;n++){const n=2*Math.random()*Math.PI,e=Math.acos(2*Math.random()-1),o=1,a=o*Math.sin(e)*Math.cos(n),s=o*Math.sin(e)*Math.sin(n),r=o*Math.cos(e);t.push([a,s,r])}return t}(),2:function(){const t=[];for(let n=0;n<1e3;n++){const n=2*Math.random()-1,e=2*Math.random()-1,o=2*Math.random()-1;t.push([n,e,o])}return t}(),3:function(){const t=[];for(let n=0;n<1e3;n++){const n=2*Math.random()*Math.PI,e=2*Math.random()*Math.PI,o=(1+.3*Math.cos(e))*Math.cos(n),a=(1+.3*Math.cos(e))*Math.sin(n),s=.3*Math.sin(e);t.push([o,a,s])}return t}(),4:function(){const t=[];for(let n=0;n<1e3;n++){const n=2*Math.random()*Math.PI,e=2*Math.random()-1,o=.5*Math.cos(n),a=.5*Math.sin(n),s=e;t.push([o,a,s])}return t}(),5:function(){const t=[];for(let n=0;n<1e3;n++){const n=2*Math.random()-1,e=2*Math.random()-1,o=2*Math.random()*(1-Math.sqrt(n*n+e*e)/1);t.push([n,e,o])}return t}()};document.getElementById("instruction").addEventListener("keypress",(function(n){"Enter"===n.key&&async function(){const n=document.getElementById("instruction").value;if(n){document.getElementById("loading").style.display="block";try{const e=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer 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"},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:`Based on this instruction: "${n}", select the most appropriate 3D shape from these options:\n                    1: Sphere\n                    2: Cube\n                    3: Torus\n                    4: Cylinder\n                    5: Pyramid\n                    \n                    Return only a JSON object with a single number: {"selection": number}`}]})}),o=await e.json(),a=JSON.parse(o.choices[0].message.content).selection;if(!(a>=1&&a<=5))throw new Error(e.statusText);!function(t){const n=t.map((t=>t[0])),e=t.map((t=>t[1])),o=t.map((t=>t[2])),a={type:"scatter3d",mode:"markers",x:n,y:e,z:o,marker:{size:2,color:o,colorscale:"Viridis",opacity:.8}};Plotly.newPlot("visualization",[a],{title:"3D Point Cloud Visualization",scene:{xaxis:{title:"X"},yaxis:{title:"Y"},zaxis:{title:"Z"}},margin:{l:0,r:0,b:0,t:30}})}(t[a])}catch(t){console.error("Error:",t),alert("An error occurred while processing your request")}finally{document.getElementById("loading").style.display="none"}}else alert("Please enter an instruction")}()}))})();